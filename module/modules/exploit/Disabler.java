package Notorious.module.modules.exploit;

import java.util.ArrayList;

import Notorious.Client;
import Notorious.ClickGui.settings.Setting;
import Notorious.event.Event;
import Notorious.event.events.EventPacket;
import Notorious.event.events.EventUpdate;
import Notorious.module.Category;
import Notorious.module.Module;
import Notorious.utils.MathUtils;
import Notorious.utils.Wrapper;
import net.minecraft.network.Packet;
import net.minecraft.network.play.client.C00PacketKeepAlive;
import net.minecraft.network.play.client.C0CPacketInput;

public class Disabler extends Module {

	public Disabler() {
		super("Disabler", 0, true, Category.EXPLOIT, "Disablers certain anticheats!");
		ArrayList<String> options = new ArrayList<>();
		options.add("koru.rip");
		options.add("Mineplex Combat");
		Client.instance.settingsManager.rSetting(new Setting("DisablerMode", "Mode", this, "koru.rip", options));
	}

	@Override
	public void onEvent(Event e) {
		if (Client.instance.settingsManager.getSettingByName("DisablerMode").getValString()
				.equalsIgnoreCase("koru.rip")) {
			if (e instanceof EventUpdate) {
				Wrapper.sendPacket(new C0CPacketInput());
			}
		}

		if (Client.instance.settingsManager.getSettingByName("DisablerMode").getValString()
				.equalsIgnoreCase("Mineplex Combat")) {
			if (e instanceof EventPacket) {
				Packet packet = ((EventPacket) e).getPacket();
				if (packet instanceof C00PacketKeepAlive) {
					((C00PacketKeepAlive) packet).key -= MathUtils.getRandomInRange(1000, 2147483647);
				}
			}
		}

	}

}
